\hypertarget{download_controller_8php_source}{}\doxysection{download\+Controller.\+php}
\label{download_controller_8php_source}\index{controllers/downloadController.php@{controllers/downloadController.php}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 <?php}
\DoxyCodeLine{00002 }
\DoxyCodeLine{\Hypertarget{download_controller_8php_source_l00010}\mbox{\hyperlink{class_download_controller}{00010}} \textcolor{keyword}{class }\mbox{\hyperlink{class_download_controller}{DownloadController}} \textcolor{keyword}{extends} mainController implements \mbox{\hyperlink{interfacei_controller}{iController}}}
\DoxyCodeLine{00011 \{}
\DoxyCodeLine{00012   \textcolor{keyword}{public} \$download;}
\DoxyCodeLine{00013   \textcolor{keyword}{private} \$e = \textcolor{keyword}{null};}
\DoxyCodeLine{00014 }
\DoxyCodeLine{\Hypertarget{download_controller_8php_source_l00018}\mbox{\hyperlink{class_download_controller_a095c5d389db211932136b53f25f39685}{00018}}   \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_download_controller_a095c5d389db211932136b53f25f39685}{\_\_construct}}()}
\DoxyCodeLine{00019   \{}
\DoxyCodeLine{00020     \$this-\/>download  = \textcolor{keyword}{new} \mbox{\hyperlink{class_download}{Download}}();}
\DoxyCodeLine{00021   \}}
\DoxyCodeLine{00022 }
\DoxyCodeLine{\Hypertarget{download_controller_8php_source_l00028}\mbox{\hyperlink{class_download_controller_a16fd2e4964fca2fd2d6ca03cf3653bb8}{00028}}   \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_download_controller_a16fd2e4964fca2fd2d6ca03cf3653bb8}{formHandler}}()}
\DoxyCodeLine{00029   \{}
\DoxyCodeLine{00030     \$\_SESSION[\textcolor{stringliteral}{'title'}] = \textcolor{stringliteral}{"{}Caiman: Download"{}};}
\DoxyCodeLine{00031     \textcolor{keywordflow}{if} (isset(\$\_GET[\textcolor{charliteral}{'e'}])) \{}
\DoxyCodeLine{00032       \$this-\/>e = filter\_input(INPUT\_GET, \textcolor{charliteral}{'e'}, FILTER\_SANITIZE\_STRING);}
\DoxyCodeLine{00033     \}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035     \textcolor{keywordflow}{if} (\$this-\/>e == \textcolor{keyword}{null}) \{}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037       \textcolor{keywordflow}{if} (\$\_SESSION[\textcolor{stringliteral}{'user'}]-\/>idUser != -\/1) \{}
\DoxyCodeLine{00038         \$this-\/>e = \textcolor{stringliteral}{"{}user"{}};}
\DoxyCodeLine{00039       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00040         \$this-\/>e = \textcolor{stringliteral}{"{}visitor"{}};}
\DoxyCodeLine{00041       \}}
\DoxyCodeLine{00042     \}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044     \textcolor{keywordflow}{if} (\$this-\/>e == \textcolor{stringliteral}{"{}download"{}}) \{}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046       \textcolor{keywordflow}{if} (\$\_SESSION[\textcolor{stringliteral}{'user'}]-\/>idUser != -\/1) \{}
\DoxyCodeLine{00047         \$this-\/>download-\/>downloadCaiman();}
\DoxyCodeLine{00048       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00049         header(\textcolor{stringliteral}{'?r=login'});}
\DoxyCodeLine{00050       \}}
\DoxyCodeLine{00051     \}}
\DoxyCodeLine{00052   \}}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054 }
\DoxyCodeLine{\Hypertarget{download_controller_8php_source_l00061}\mbox{\hyperlink{class_download_controller_a67e219b27b5c39ef06f85381a378c2f9}{00061}}   \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_download_controller_a67e219b27b5c39ef06f85381a378c2f9}{printHTML}}()}
\DoxyCodeLine{00062   \{}
\DoxyCodeLine{00063     \$html = \textcolor{stringliteral}{'<main style="{}margin-\/top:20px"{}>}}
\DoxyCodeLine{00064 \textcolor{stringliteral}{        <div class="{}container-\/md"{}>'};}
\DoxyCodeLine{00065     \$html .= \$this-\/>errorHandler();}
\DoxyCodeLine{00066     \textcolor{keywordflow}{if} (\$this-\/>e == \textcolor{stringliteral}{"{}user"{}}) \{}
\DoxyCodeLine{00067       \$html .= \$this-\/>htmlUserDownload();}
\DoxyCodeLine{00068     \}}
\DoxyCodeLine{00069 }
\DoxyCodeLine{00070     \textcolor{keywordflow}{if} (\$this-\/>e == \textcolor{stringliteral}{"{}visitor"{}}) \{}
\DoxyCodeLine{00071       \$html .= \$this-\/>htmlVisitorDownload();}
\DoxyCodeLine{00072     \}}
\DoxyCodeLine{00073     \$html .= \textcolor{stringliteral}{"{}</div></main> "{}};}
\DoxyCodeLine{00074     echo \$html;}
\DoxyCodeLine{00075   \}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00082   \textcolor{keyword}{private} \textcolor{keyword}{function} htmlUserDownload()}
\DoxyCodeLine{00083   \{}
\DoxyCodeLine{00084     \$html = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086     \$html .= \textcolor{stringliteral}{'}}
\DoxyCodeLine{00087 \textcolor{stringliteral}{        <div class="{}jumbotron jumbotron-\/fluid DarkJumbotron "{} style="{}background-\/color: \#161b22;"{}>}}
\DoxyCodeLine{00088 \textcolor{stringliteral}{            <div class="{}row py-\/lg-\/5"{}>}}
\DoxyCodeLine{00089 \textcolor{stringliteral}{              <div class="{}col-\/lg-\/6 col-\/md-\/8 mx-\/auto"{}>}}
\DoxyCodeLine{00090 \textcolor{stringliteral}{                <h1 class="{}fw-\/light greenTexte"{}>Caiman</h1>}}
\DoxyCodeLine{00091 \textcolor{stringliteral}{                <p class="{}lead text-\/muted"{}>The easiest way to use emulators.</p>}}
\DoxyCodeLine{00092 \textcolor{stringliteral}{                <p>}}
\DoxyCodeLine{00093 \textcolor{stringliteral}{                  <a href="{}?r=download\&e=download"{} class="{}btn btn-\/success my-\/2"{}>Download for Windows (64bit)</a>}}
\DoxyCodeLine{00094 \textcolor{stringliteral}{                </p>}}
\DoxyCodeLine{00095 \textcolor{stringliteral}{              </div>}}
\DoxyCodeLine{00096 \textcolor{stringliteral}{            </div>}}
\DoxyCodeLine{00097 \textcolor{stringliteral}{        </div>'};}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099     \textcolor{keywordflow}{return} \$html;}
\DoxyCodeLine{00100   \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00107   \textcolor{keyword}{private} \textcolor{keyword}{function} htmlHeadVisitor()}
\DoxyCodeLine{00108   \{}
\DoxyCodeLine{00109     \$html = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111     \$html .= \textcolor{stringliteral}{'<div class="{}jumbotron  DarkJumbotron width100"{} style="{}background-\/color: \#161b22;"{}>}}
\DoxyCodeLine{00112 \textcolor{stringliteral}{        <div class="{}container"{}>'};}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114     \$html .= \textcolor{stringliteral}{'<div class="{}container"{}>}}
\DoxyCodeLine{00115 \textcolor{stringliteral}{        <div class="{}row"{}>}}
\DoxyCodeLine{00116 \textcolor{stringliteral}{          <div class="{}col-\/sm"{}>}}
\DoxyCodeLine{00117 \textcolor{stringliteral}{          <p>To download the application you must create an account or log in.</p>}}
\DoxyCodeLine{00118 \textcolor{stringliteral}{          </div>}}
\DoxyCodeLine{00119 \textcolor{stringliteral}{        </div>}}
\DoxyCodeLine{00120 \textcolor{stringliteral}{      </div>'};}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122     \$html .= \textcolor{stringliteral}{'}}
\DoxyCodeLine{00123 \textcolor{stringliteral}{          }}
\DoxyCodeLine{00124 \textcolor{stringliteral}{        </div>}}
\DoxyCodeLine{00125 \textcolor{stringliteral}{      </div>'};}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127     \textcolor{keywordflow}{return} \$html;}
\DoxyCodeLine{00128   \}}
\DoxyCodeLine{00129 }
\DoxyCodeLine{00135   \textcolor{keyword}{private} \textcolor{keyword}{function} htmlVisitorDownload()}
\DoxyCodeLine{00136   \{}
\DoxyCodeLine{00137     \$html = \$this-\/>htmlHeadVisitor();}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139     \$html .= \textcolor{stringliteral}{'<div class="{}jumbotron jumbotron-\/fluid DarkJumbotron width100"{} style="{}background-\/color: \#161b22;"{}"{}>}}
\DoxyCodeLine{00140 \textcolor{stringliteral}{        <div class="{}container"{}>'};}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142     \$html .= \textcolor{stringliteral}{'<div class="{}container"{}>}}
\DoxyCodeLine{00143 \textcolor{stringliteral}{        <div class="{}row"{}>}}
\DoxyCodeLine{00144 \textcolor{stringliteral}{          <div class="{}col-\/sm"{}>}}
\DoxyCodeLine{00145 \textcolor{stringliteral}{          '};}
\DoxyCodeLine{00146     \$html .= \$this-\/>htmlFormLogin();}
\DoxyCodeLine{00147     \$html .= \textcolor{stringliteral}{'}}
\DoxyCodeLine{00148 \textcolor{stringliteral}{          </div>}}
\DoxyCodeLine{00149 \textcolor{stringliteral}{          <div class="{}col-\/sm"{}>}}
\DoxyCodeLine{00150 \textcolor{stringliteral}{          '};}
\DoxyCodeLine{00151     \$html .= \$this-\/>htmlFormSignin();}
\DoxyCodeLine{00152     \$html .= \textcolor{stringliteral}{'}}
\DoxyCodeLine{00153 \textcolor{stringliteral}{          </div>}}
\DoxyCodeLine{00154 \textcolor{stringliteral}{        </div>}}
\DoxyCodeLine{00155 \textcolor{stringliteral}{      </div>'};}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157     \$html .= \textcolor{stringliteral}{'}}
\DoxyCodeLine{00158 \textcolor{stringliteral}{          }}
\DoxyCodeLine{00159 \textcolor{stringliteral}{        </div>}}
\DoxyCodeLine{00160 \textcolor{stringliteral}{      </div>'};}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162     \textcolor{keywordflow}{return} \$html;}
\DoxyCodeLine{00163   \}}
\DoxyCodeLine{00164 }
\DoxyCodeLine{00170   \textcolor{keyword}{private} \textcolor{keyword}{function} htmlFormSignin()}
\DoxyCodeLine{00171   \{}
\DoxyCodeLine{00172     \$html = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174     \$html = \textcolor{stringliteral}{'}}
\DoxyCodeLine{00175 \textcolor{stringliteral}{        <div style="{}width: 70\%; margin: auto;"{}>}}
\DoxyCodeLine{00176 \textcolor{stringliteral}{        <h2>Sign In</h2>}}
\DoxyCodeLine{00177 \textcolor{stringliteral}{        <p>Sign-\/Up to Caiman to play and discover old games.</p>}}
\DoxyCodeLine{00178 \textcolor{stringliteral}{        <button type="{}button"{} class="{}btn btn-\/warning"{} data-\/toggle="{}modal"{} data-\/target="{}\#modalSign"{}>Sign-\/up</button>}}
\DoxyCodeLine{00179 \textcolor{stringliteral}{      </div>'};}
\DoxyCodeLine{00180 }
\DoxyCodeLine{00181     \textcolor{keywordflow}{return} \$html;}
\DoxyCodeLine{00182   \}}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00189   \textcolor{keyword}{private} \textcolor{keyword}{function} htmlFormLogin()}
\DoxyCodeLine{00190   \{}
\DoxyCodeLine{00191     \$html = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00192 }
\DoxyCodeLine{00193     \$html = \textcolor{stringliteral}{' }}
\DoxyCodeLine{00194 \textcolor{stringliteral}{        <div style="{}width: 70\%; margin: auto;"{}>}}
\DoxyCodeLine{00195 \textcolor{stringliteral}{        <h2>Login</h2>}}
\DoxyCodeLine{00196 \textcolor{stringliteral}{        <form action="{}?r=login\&e=login"{} method="{}post"{}>}}
\DoxyCodeLine{00197 \textcolor{stringliteral}{              <div class="{}form-\/group"{}>}}
\DoxyCodeLine{00198 \textcolor{stringliteral}{                <label for="{}username"{}>Username</label>}}
\DoxyCodeLine{00199 \textcolor{stringliteral}{                <input type="{}texte"{} name="{}username"{} class="{}form-\/control"{} id="{}username"{} aria-\/describedby="{}username"{} placeholder="{}Enter username"{}>}}
\DoxyCodeLine{00200 \textcolor{stringliteral}{              </div>}}
\DoxyCodeLine{00201 \textcolor{stringliteral}{              <div class="{}form-\/group"{}>}}
\DoxyCodeLine{00202 \textcolor{stringliteral}{                <label for="{}password"{}>Password</label>}}
\DoxyCodeLine{00203 \textcolor{stringliteral}{                <input type="{}password"{} name="{}password"{} class="{}form-\/control"{} id="{}password"{} placeholder="{}Password"{}>}}
\DoxyCodeLine{00204 \textcolor{stringliteral}{              </div>}}
\DoxyCodeLine{00205 \textcolor{stringliteral}{              <div class="{}form-\/group"{}>}}
\DoxyCodeLine{00206 \textcolor{stringliteral}{              <button type="{}submit"{} class="{}btn btn-\/success"{}>Log in</button>}}
\DoxyCodeLine{00207 \textcolor{stringliteral}{            </div>}}
\DoxyCodeLine{00208 \textcolor{stringliteral}{            <div class="{}form-\/group"{}>}}
\DoxyCodeLine{00209 \textcolor{stringliteral}{              <a href="{}?r=login\&e=forgot"{} class="{}btn btn-\/success my-\/2"{}>Forgot password?</a>}}
\DoxyCodeLine{00210 \textcolor{stringliteral}{            </div>}}
\DoxyCodeLine{00211 \textcolor{stringliteral}{          }}
\DoxyCodeLine{00212 \textcolor{stringliteral}{          </form>}}
\DoxyCodeLine{00213 \textcolor{stringliteral}{      </div>'};}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215     \textcolor{keywordflow}{return} \$html;}
\DoxyCodeLine{00216   \}}
\DoxyCodeLine{00217 \}}

\end{DoxyCode}
