\hypertarget{class_dotenv_1_1_loader}{}\doxysection{Loader Class Reference}
\label{class_dotenv_1_1_loader}\index{Loader@{Loader}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_af5ccaebb375a6c6391741af51d3991f2}{\+\_\+\+\_\+construct}} (\$file\+Path, \$immutable=false)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a96260831563ce43bafeb81676a406555}{set\+Immutable}} (\$immutable=false)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a52b1318146cde2e402bd0caa25c55e29}{get\+Immutable}} ()
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a4dcaa8f72c8423d4de25a9e87fa6f3e4}{load}} ()
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a018c5745f90b2f08247d19194ca44da0}{process\+Filters}} (\$name, \$value)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a8a40ad7dca8ca32401160b35e7d2b1da}{get\+Environment\+Variable}} (\$name)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_aacc6fb02ff3b7dcd440c5d5f8d25b20c}{set\+Environment\+Variable}} (\$name, \$value=null)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_aae5149a62aac8c59d2ace040ff82030d}{clear\+Environment\+Variable}} (\$name)
\end{DoxyCompactItemize}
\doxysubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_dotenv_1_1_loader_adb5909894a4ddee184b7421437e1ce84}\label{class_dotenv_1_1_loader_adb5909894a4ddee184b7421437e1ce84}} 
{\bfseries \$variable\+Names} = array()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a89ffa7654018ef6d0338254baeb9bfc0}{ensure\+File\+Is\+Readable}} ()
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_aa43f6fdac42348660d0cd6d75a77cab8}{normalise\+Environment\+Variable}} (\$name, \$value)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a1d187abfce714ae269780baad6008f15}{read\+Lines\+From\+File}} (\$file\+Path)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a341c9ec857f59df3a865a482913aa5bf}{is\+Comment}} (\$line)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_accdc8734a5bacc72af7dbe65c1274552}{looks\+Like\+Setter}} (\$line)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_a99f00d276b2f83ebfc658295a825817b}{split\+Compound\+String\+Into\+Parts}} (\$name, \$value)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_aed3e40a70d0278b4fc02291529d633e7}{sanitise\+Variable\+Value}} (\$name, \$value)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_aa0c222091eac5262c52fcf9ab024e853}{resolve\+Nested\+Variables}} (\$value)
\item 
\mbox{\hyperlink{class_dotenv_1_1_loader_ac5b957f6a44506cd84f764a002fbf26d}{sanitise\+Variable\+Name}} (\$name, \$value)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_dotenv_1_1_loader_aaf525367b205eb15e464b979a035e4c6}\label{class_dotenv_1_1_loader_aaf525367b205eb15e464b979a035e4c6}} 
{\bfseries \$file\+Path}
\item 
\mbox{\Hypertarget{class_dotenv_1_1_loader_ac42bb9ef1674047d1f82dcfb810f51be}\label{class_dotenv_1_1_loader_ac42bb9ef1674047d1f82dcfb810f51be}} 
{\bfseries \$immutable}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the loaded class.

It\textquotesingle{}s responsible for loading variables by reading a file from disk and\+:
\begin{DoxyItemize}
\item stripping comments beginning with a {\ttfamily \#},
\item parsing lines that look shell variable setters, e.\+g {\ttfamily export key = value}, {\ttfamily key=\char`\"{}value\char`\"{}}. 
\end{DoxyItemize}

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_dotenv_1_1_loader_af5ccaebb375a6c6391741af51d3991f2}\label{class_dotenv_1_1_loader_af5ccaebb375a6c6391741af51d3991f2}} 
\index{Loader@{Loader}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$file\+Path,  }\item[{}]{\$immutable = {\ttfamily false} }\end{DoxyParamCaption})}

Create a new loader instance.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$file\+Path} & \\
\hline
bool & {\em \$immutable} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_dotenv_1_1_loader_aae5149a62aac8c59d2ace040ff82030d}\label{class_dotenv_1_1_loader_aae5149a62aac8c59d2ace040ff82030d}} 
\index{Loader@{Loader}!clearEnvironmentVariable@{clearEnvironmentVariable}}
\index{clearEnvironmentVariable@{clearEnvironmentVariable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{clearEnvironmentVariable()}{clearEnvironmentVariable()}}
{\footnotesize\ttfamily clear\+Environment\+Variable (\begin{DoxyParamCaption}\item[{}]{\$name }\end{DoxyParamCaption})}

Clear an environment variable.

This is not (currently) used by \mbox{\hyperlink{class_dotenv_1_1_dotenv}{Dotenv}} but is provided as a utility method for 3rd party code.

This is done using\+:
\begin{DoxyItemize}
\item putenv,
\item unset(\$\+\_\+\+ENV, \$\+\_\+\+SERVER).
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_dotenv_1_1_loader_aacc6fb02ff3b7dcd440c5d5f8d25b20c}{set\+Environment\+Variable()}}
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a89ffa7654018ef6d0338254baeb9bfc0}\label{class_dotenv_1_1_loader_a89ffa7654018ef6d0338254baeb9bfc0}} 
\index{Loader@{Loader}!ensureFileIsReadable@{ensureFileIsReadable}}
\index{ensureFileIsReadable@{ensureFileIsReadable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{ensureFileIsReadable()}{ensureFileIsReadable()}}
{\footnotesize\ttfamily ensure\+File\+Is\+Readable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Ensures the given file\+Path is readable.


\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a8a40ad7dca8ca32401160b35e7d2b1da}\label{class_dotenv_1_1_loader_a8a40ad7dca8ca32401160b35e7d2b1da}} 
\index{Loader@{Loader}!getEnvironmentVariable@{getEnvironmentVariable}}
\index{getEnvironmentVariable@{getEnvironmentVariable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{getEnvironmentVariable()}{getEnvironmentVariable()}}
{\footnotesize\ttfamily get\+Environment\+Variable (\begin{DoxyParamCaption}\item[{}]{\$name }\end{DoxyParamCaption})}

Search the different places for environment variables and return first value found.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string$\vert$null 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a52b1318146cde2e402bd0caa25c55e29}\label{class_dotenv_1_1_loader_a52b1318146cde2e402bd0caa25c55e29}} 
\index{Loader@{Loader}!getImmutable@{getImmutable}}
\index{getImmutable@{getImmutable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{getImmutable()}{getImmutable()}}
{\footnotesize\ttfamily get\+Immutable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get immutable value.

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a341c9ec857f59df3a865a482913aa5bf}\label{class_dotenv_1_1_loader_a341c9ec857f59df3a865a482913aa5bf}} 
\index{Loader@{Loader}!isComment@{isComment}}
\index{isComment@{isComment}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{isComment()}{isComment()}}
{\footnotesize\ttfamily is\+Comment (\begin{DoxyParamCaption}\item[{}]{\$line }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Determine if the line in the file is a comment, e.\+g. begins with a \#.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$line} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a4dcaa8f72c8423d4de25a9e87fa6f3e4}\label{class_dotenv_1_1_loader_a4dcaa8f72c8423d4de25a9e87fa6f3e4}} 
\index{Loader@{Loader}!load@{load}}
\index{load@{load}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Load {\ttfamily .env} file in given directory.


\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{class_dotenv_1_1_loader_accdc8734a5bacc72af7dbe65c1274552}\label{class_dotenv_1_1_loader_accdc8734a5bacc72af7dbe65c1274552}} 
\index{Loader@{Loader}!looksLikeSetter@{looksLikeSetter}}
\index{looksLikeSetter@{looksLikeSetter}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{looksLikeSetter()}{looksLikeSetter()}}
{\footnotesize\ttfamily looks\+Like\+Setter (\begin{DoxyParamCaption}\item[{}]{\$line }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Determine if the given line looks like it\textquotesingle{}s setting a variable.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$line} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_aa43f6fdac42348660d0cd6d75a77cab8}\label{class_dotenv_1_1_loader_aa43f6fdac42348660d0cd6d75a77cab8}} 
\index{Loader@{Loader}!normaliseEnvironmentVariable@{normaliseEnvironmentVariable}}
\index{normaliseEnvironmentVariable@{normaliseEnvironmentVariable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{normaliseEnvironmentVariable()}{normaliseEnvironmentVariable()}}
{\footnotesize\ttfamily normalise\+Environment\+Variable (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Normalise the given environment variable.

Takes value as passed in by developer and\+:
\begin{DoxyItemize}
\item ensures we\textquotesingle{}re dealing with a separate name and value, breaking apart the name string if needed,
\item cleaning the value of quotes,
\item cleaning the name of quotes,
\item resolving nested variables.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string & {\em \$value} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a018c5745f90b2f08247d19194ca44da0}\label{class_dotenv_1_1_loader_a018c5745f90b2f08247d19194ca44da0}} 
\index{Loader@{Loader}!processFilters@{processFilters}}
\index{processFilters@{processFilters}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{processFilters()}{processFilters()}}
{\footnotesize\ttfamily process\+Filters (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value }\end{DoxyParamCaption})}

Process the runtime filters.

Called from {\ttfamily normalise\+Environment\+Variable} and the {\ttfamily Variable\+Factory}, passed as a callback in {\ttfamily \$this-\/$>$load\+From\+File()}.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string & {\em \$value} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a1d187abfce714ae269780baad6008f15}\label{class_dotenv_1_1_loader_a1d187abfce714ae269780baad6008f15}} 
\index{Loader@{Loader}!readLinesFromFile@{readLinesFromFile}}
\index{readLinesFromFile@{readLinesFromFile}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{readLinesFromFile()}{readLinesFromFile()}}
{\footnotesize\ttfamily read\+Lines\+From\+File (\begin{DoxyParamCaption}\item[{}]{\$file\+Path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Read lines from the file, auto detecting line endings.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$file\+Path} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_aa0c222091eac5262c52fcf9ab024e853}\label{class_dotenv_1_1_loader_aa0c222091eac5262c52fcf9ab024e853}} 
\index{Loader@{Loader}!resolveNestedVariables@{resolveNestedVariables}}
\index{resolveNestedVariables@{resolveNestedVariables}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{resolveNestedVariables()}{resolveNestedVariables()}}
{\footnotesize\ttfamily resolve\+Nested\+Variables (\begin{DoxyParamCaption}\item[{}]{\$value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Resolve the nested variables.

Look for \$\{varname\} patterns in the variable value and replace with an existing environment variable.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_ac5b957f6a44506cd84f764a002fbf26d}\label{class_dotenv_1_1_loader_ac5b957f6a44506cd84f764a002fbf26d}} 
\index{Loader@{Loader}!sanitiseVariableName@{sanitiseVariableName}}
\index{sanitiseVariableName@{sanitiseVariableName}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{sanitiseVariableName()}{sanitiseVariableName()}}
{\footnotesize\ttfamily sanitise\+Variable\+Name (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Strips quotes and the optional leading \char`\"{}export \char`\"{} from the environment variable name.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_aed3e40a70d0278b4fc02291529d633e7}\label{class_dotenv_1_1_loader_aed3e40a70d0278b4fc02291529d633e7}} 
\index{Loader@{Loader}!sanitiseVariableValue@{sanitiseVariableValue}}
\index{sanitiseVariableValue@{sanitiseVariableValue}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{sanitiseVariableValue()}{sanitiseVariableValue()}}
{\footnotesize\ttfamily sanitise\+Variable\+Value (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Strips quotes from the environment variable value.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string & {\em \$value} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{class_dotenv_1_1_loader_aacc6fb02ff3b7dcd440c5d5f8d25b20c}\label{class_dotenv_1_1_loader_aacc6fb02ff3b7dcd440c5d5f8d25b20c}} 
\index{Loader@{Loader}!setEnvironmentVariable@{setEnvironmentVariable}}
\index{setEnvironmentVariable@{setEnvironmentVariable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{setEnvironmentVariable()}{setEnvironmentVariable()}}
{\footnotesize\ttfamily set\+Environment\+Variable (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value = {\ttfamily null} }\end{DoxyParamCaption})}

Set an environment variable.

This is done using\+:
\begin{DoxyItemize}
\item putenv,
\item \$\+\_\+\+ENV,
\item \$\+\_\+\+SERVER.
\end{DoxyItemize}

The environment variable value is stripped of single and double quotes.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string | null & {\em \$value} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a96260831563ce43bafeb81676a406555}\label{class_dotenv_1_1_loader_a96260831563ce43bafeb81676a406555}} 
\index{Loader@{Loader}!setImmutable@{setImmutable}}
\index{setImmutable@{setImmutable}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{setImmutable()}{setImmutable()}}
{\footnotesize\ttfamily set\+Immutable (\begin{DoxyParamCaption}\item[{}]{\$immutable = {\ttfamily false} }\end{DoxyParamCaption})}

Set immutable value.


\begin{DoxyParams}[1]{Parameters}
bool & {\em \$immutable} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\$this 
\end{DoxyReturn}
\mbox{\Hypertarget{class_dotenv_1_1_loader_a99f00d276b2f83ebfc658295a825817b}\label{class_dotenv_1_1_loader_a99f00d276b2f83ebfc658295a825817b}} 
\index{Loader@{Loader}!splitCompoundStringIntoParts@{splitCompoundStringIntoParts}}
\index{splitCompoundStringIntoParts@{splitCompoundStringIntoParts}!Loader@{Loader}}
\doxysubsubsection{\texorpdfstring{splitCompoundStringIntoParts()}{splitCompoundStringIntoParts()}}
{\footnotesize\ttfamily split\+Compound\+String\+Into\+Parts (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Split the compound string into parts.

If the {\ttfamily \$name} contains an {\ttfamily =} sign, then we split it into 2 parts, a {\ttfamily name} \& {\ttfamily value} disregarding the {\ttfamily \$value} passed in.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
vendor/vlucas/phpdotenv/src/Loader.\+php\end{DoxyCompactItemize}
