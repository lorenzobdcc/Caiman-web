\hypertarget{userdata_8php_source}{}\doxysection{userdata.\+php}
\label{userdata_8php_source}\index{models/userdata.php@{models/userdata.php}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 <?php}
\DoxyCodeLine{00002 }
\DoxyCodeLine{\Hypertarget{userdata_8php_source_l00010}\mbox{\hyperlink{class_user_data}{00010}} \textcolor{keyword}{class }\mbox{\hyperlink{class_user_data}{UserData}}}
\DoxyCodeLine{00011 \{}
\DoxyCodeLine{00012     \textcolor{keyword}{private} \$dbh = \textcolor{keyword}{null};}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014     \textcolor{keyword}{private} \$psGetUsersByUsername = \textcolor{keyword}{null};}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016     \textcolor{keyword}{private} \$psGetDataUser = \textcolor{keyword}{null};}
\DoxyCodeLine{00017 }
\DoxyCodeLine{\Hypertarget{userdata_8php_source_l00021}\mbox{\hyperlink{class_user_data_a095c5d389db211932136b53f25f39685}{00021}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_user_data_a095c5d389db211932136b53f25f39685}{\_\_construct}}()}
\DoxyCodeLine{00022     \{}
\DoxyCodeLine{00023         \textcolor{keywordflow}{if} (\$this-\/>dbh == \textcolor{keyword}{null}) \{}
\DoxyCodeLine{00024             \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00025                 \$this-\/>dbh = \textcolor{keyword}{new} PDO(\textcolor{stringliteral}{'mysql:host='} . HOST . \textcolor{stringliteral}{';dbname='} . DBNAME, USER, PASSWORD, array(}
\DoxyCodeLine{00026                     PDO::MYSQL\_ATTR\_INIT\_COMMAND => \textcolor{stringliteral}{"{}SET NAMES utf8"{}},}
\DoxyCodeLine{00027                     PDO::ATTR\_PERSISTENT => \textcolor{keyword}{true}}
\DoxyCodeLine{00028                 ));}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030                 \textcolor{comment}{// get list of user by username}}
\DoxyCodeLine{00031                 \$sqlRequestUsers = \textcolor{stringliteral}{"{}SELECT * FROM user WHERE username LIKE :search\_username AND privateAccount = 0"{}};}
\DoxyCodeLine{00032                 \$this-\/>psGetUsersByUsername = \$this-\/>dbh-\/>prepare(\$sqlRequestUsers);}
\DoxyCodeLine{00033                 \$this-\/>psGetUsersByUsername-\/>setFetchMode(PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035                 \textcolor{comment}{// get list of user by username}}
\DoxyCodeLine{00036                 \$sqlGetDataUser = \textcolor{stringliteral}{"{}SELECT * FROM user WHERE id =:search\_idUser"{}};}
\DoxyCodeLine{00037                 \$this-\/>psGetDataUser = \$this-\/>dbh-\/>prepare(\$sqlGetDataUser);}
\DoxyCodeLine{00038                 \$this-\/>psGetDataUser-\/>setFetchMode(PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00039             \} \textcolor{keywordflow}{catch} (PDOException \$e) \{}
\DoxyCodeLine{00040                 print \textcolor{stringliteral}{"{}Erreur !: "{}} . \$e-\/>getMessage() . \textcolor{stringliteral}{"{}<br>"{}};}
\DoxyCodeLine{00041                 die();}
\DoxyCodeLine{00042             \}}
\DoxyCodeLine{00043         \}}
\DoxyCodeLine{00044     \}}
\DoxyCodeLine{00045 }
\DoxyCodeLine{\Hypertarget{userdata_8php_source_l00052}\mbox{\hyperlink{class_user_data_aa1c09d341f215095745d3603e12b1fbd}{00052}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_user_data_aa1c09d341f215095745d3603e12b1fbd}{getUsersByUsername}}(\$username)}
\DoxyCodeLine{00053     \{}
\DoxyCodeLine{00054         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00055             \$this-\/>psGetUsersByUsername-\/>execute(array(\textcolor{stringliteral}{':search\_username'} => \textcolor{charliteral}{'\%'} . \$username . \textcolor{charliteral}{'\%'}));}
\DoxyCodeLine{00056             \$result = \$this-\/>psGetUsersByUsername-\/>fetchAll();}
\DoxyCodeLine{00057         \} \textcolor{keywordflow}{catch} (PDOException \$e) \{}
\DoxyCodeLine{00058             print \textcolor{stringliteral}{"{}Erreur !: "{}} . \$e-\/>getMessage() . \textcolor{stringliteral}{"{}<br>"{}};}
\DoxyCodeLine{00059             die();}
\DoxyCodeLine{00060         \}}
\DoxyCodeLine{00061         \textcolor{keywordflow}{return} \$result;}
\DoxyCodeLine{00062     \}}
\DoxyCodeLine{00063 }
\DoxyCodeLine{\Hypertarget{userdata_8php_source_l00070}\mbox{\hyperlink{class_user_data_a92295d3642657257bdd3d8f2ed4e6814}{00070}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_user_data_a92295d3642657257bdd3d8f2ed4e6814}{getUserData}}(\$iduser)}
\DoxyCodeLine{00071     \{}
\DoxyCodeLine{00072         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00073             \$this-\/>psGetDataUser-\/>execute(array(\textcolor{stringliteral}{':search\_idUser'} => \$iduser));}
\DoxyCodeLine{00074             \$result = \$this-\/>psGetDataUser-\/>fetchAll();}
\DoxyCodeLine{00075         \} \textcolor{keywordflow}{catch} (PDOException \$e) \{}
\DoxyCodeLine{00076             print \textcolor{stringliteral}{"{}Erreur !: "{}} . \$e-\/>getMessage() . \textcolor{stringliteral}{"{}<br>"{}};}
\DoxyCodeLine{00077             die();}
\DoxyCodeLine{00078         \}}
\DoxyCodeLine{00079         \textcolor{keywordflow}{return} \$result;}
\DoxyCodeLine{00080     \}}
\DoxyCodeLine{00081 \}}

\end{DoxyCode}
